/* DB Admin â€” compact dark UI
   10px everywhere; 12px only for headings/important; tight paddings
*/
.dba-wrap {
  --fs-10: 10px;
  --fs-12: 12px;
  --pd-2: 2px;
  --pd-4: 4px;
  --pd-6: 6px;

  background: #0d1117;
  color: #c9d1d9;
  font-size: var(--fs-10);
  line-height: 1.25;
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: var(--pd-6);
  gap: var(--pd-6);
  box-sizing: border-box;
}

/* Top */
.dba-top {
  display: grid;
  grid-template-columns: 1fr 280px;
  gap: var(--pd-6);
}

.dba-drop {
  background: #12161c;
  border: 1px dashed #30363d;
  border-radius: 8px;
  padding: var(--pd-6);
  min-height: 160px;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  gap: var(--pd-6);
}
.dba-drop:hover { border-color: #2f81f7; }

.dba-drop-head {
  display: inline-flex;
  align-items: center;
  gap: var(--pd-4);
}
.mini { font-size: var(--fs-12); }
.big { font-size: 28px; }

.strong { font-weight: 600; }
.muted { color: #8b949e; }

.dba-drop-empty {
  display: grid;
  place-items: center;
  min-height: 120px;
  gap: var(--pd-4);
}

/* Queue */
.dba-queue { display: flex; flex-direction: column; gap: var(--pd-4); }

.dba-qrow {
  display: grid;
  grid-template-columns: 1fr 180px auto;
  align-items: center;
  gap: var(--pd-6);
  background: #0d1117;
  border: 1px solid #30363d;
  border-radius: 6px;
  padding: var(--pd-4) var(--pd-6);
}
.dba-qrow.done .dba-qprog .fill { background: #3fb950; }
.dba-qrow.error .dba-qprog .fill { background: #da3633; }
.dba-qrow.canceled .dba-qprog .fill { background: #6e7681; }

.dba-qname { display: inline-flex; align-items: center; gap: var(--pd-4); }
.dba-qname .size { margin-left: var(--pd-4); }

.ellipsis { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

.dba-qprog { display: grid; gap: var(--pd-2); }
.dba-qprog .bar {
  width: 100%; height: 6px; border: 1px solid #30363d; border-radius: 4px; background: #0d1117;
}
.dba-qprog .fill {
  height: 100%; width: 0%; background: #58a6ff; border-radius: 3px; transition: width .2s linear;
}

.dba-qactions { display: inline-flex; gap: var(--pd-4); }
.btn {
  background: #161b22;
  color: #c9d1d9;
  border: 1px solid #30363d;
  border-radius: 4px;
  height: 20px;
  padding: 0 var(--pd-4);
  font-size: var(--fs-10);
  display: inline-flex;
  align-items: center;
  gap: var(--pd-4);
  cursor: pointer;
}
.btn:hover { border-color: #58a6ff; }
.btn.ghost { background: transparent; }
.btn.danger { border-color: #da3633; color: #f85149; }
.btn.danger:hover { background: #da3633; color: #fff; }

.dba-qbar {
  display: flex; align-items: center; gap: var(--pd-6);
  padding-top: var(--pd-2);
}
.sp { flex: 1; }

/* Controls (right) */
.dba-controls {
  background: #12161c;
  border: 1px solid #30363d;
  border-radius: 8px;
  padding: var(--pd-6);
  display: flex;
  flex-direction: column;
  gap: var(--pd-4);
}

.dba-mode { display: inline-flex; align-items: center; gap: var(--pd-6); }
.radio { display: inline-flex; align-items: center; gap: var(--pd-2); }
.radio.on { color: #f0f6fc; font-weight: 600; }
.chk { display: inline-flex; align-items: center; gap: var(--pd-2); }

.lbl { font-size: var(--fs-12); color: #f0f6fc; }
.hint { display: inline-flex; align-items: center; gap: var(--pd-4); color: #8b949e; }

.input, .select {
  background: #0d1117; color: #c9d1d9;
  border: 1px solid #30363d; border-radius: 4px;
  padding: var(--pd-4);
  font-size: var(--fs-10);
  height: 20px;
  width: 100%;
  box-sizing: border-box;
}
.select { height: 22px; }

.dba-status {
  border-top: 1px solid #30363d;
  padding-top: var(--pd-4);
  min-height: 18px;
}
.ok { color: #9fd39f; }

/* Steps */
.dba-steps {
  border-top: 1px solid #30363d;
  padding-top: var(--pd-4);
}
.steps-head { display: inline-flex; align-items: center; gap: var(--pd-4); font-size: var(--fs-12); }
.dba-steps ul { margin: 0; padding-left: 16px; }
.dba-steps li { margin: 2px 0; }

/* Bottom panels */
.dba-bottom {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--pd-6);
  min-height: 0;
}

.dba-panel {
  background: #12161c;
  border: 1px solid #30363d;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  min-height: 0;
}

.panel-head {
  display: flex; align-items: center; justify-content: space-between;
  padding: var(--pd-6);
  border-bottom: 1px solid #30363d;
  gap: var(--pd-6);
}
.title { font-size: var(--fs-12); font-weight: 600; color: #f0f6fc; }
.panel-actions { display: inline-flex; align-items: center; gap: var(--pd-6); }
.inline { display: inline-flex; align-items: center; gap: var(--pd-4); }

/* History */
.hist-list { list-style: none; margin: 0; padding: var(--pd-6); overflow: auto; }
.hist-group { padding: var(--pd-4) 0; border-bottom: 1px solid #1a1f26; }
.hist-head .db { color: #58a6ff; font-weight: 600; }
.hist-sub { margin: 0; padding-left: 16px; }
.hist-sub li { margin: 2px 0; }
.empty { color: #8b949e; text-align: center; padding: 10px 0; }

/* DB list */
.db-list { padding: var(--pd-6); overflow: auto; }
.db-item { border-bottom: 1px solid #1a1f26; padding: var(--pd-4) 0; }
.db-row { display: flex; align-items: center; gap: var(--pd-6); }
.db-name { font-weight: 600; cursor: pointer; }
.db-name:hover { text-decoration: underline; }

.db-files { padding-left: 18px; padding-top: var(--pd-2); display: flex; flex-direction: column; gap: var(--pd-2); }
.db-file { display: inline-flex; align-items: center; gap: var(--pd-4); }
.file-link { color: #58a6ff; cursor: pointer; }
.file-link:hover { color: #fff; }

/* Popups */
.dba-pop {
  position: fixed; inset: 0; background: rgba(13,17,23,.6);
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
  display: flex; align-items: center; justify-content: center;
  z-index: 1000;
}
.dba-pop-inner {
  position: relative;
  width: min(720px, 96vw);
  max-height: 86vh;
  background: #0d1117;
  border: 1px solid #30363d;
  border-radius: 8px;
  padding: var(--pd-6);
  overflow: auto;
}
.dba-pop-inner.pdf { width: 95vw; height: 90vh; background: #fff; border: none; }
.pop-close {
  position: absolute; top: 6px; right: 8px;
  background: transparent; color: #c9d1d9; border: 1px solid #30363d;
  border-radius: 4px; height: 20px; padding: 0 var(--pd-4); cursor: pointer; font-size: var(--fs-10);
}
.pop-close:hover { border-color: #58a6ff; }
.pop-title { font-size: var(--fs-12); font-weight: 600; margin-bottom: var(--pd-4); }

.schema-block { border-top: 1px solid #1a1f26; padding-top: var(--pd-4); margin-top: var(--pd-4); }
.schema-name { font-weight: 600; color: #a8d0ff; margin-bottom: var(--pd-2); }
.schema-rows ul { margin: 0; padding-left: 16px; }

/* Responsive */
@media (max-width: 900px) {
  .dba-top {
    grid-template-columns: 1fr;
  }
  .dba-controls { order: -1; }
  .dba-bottom { grid-template-columns: 1fr; }
}
